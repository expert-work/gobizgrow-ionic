{"version":3,"sources":["./src/app/common/upload/upload-routing.module.ts","./src/app/common/upload/upload.module.ts","./src/app/common/upload/upload.page.html","./src/app/common/upload/upload.page.ts"],"names":[],"mappings":"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","file":"default~common-upload-upload-module-ngfactory~invoices-new-new-module-ngfactory-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UploadPage } from './upload.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UploadPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UploadPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UploadPageRoutingModule } from './upload-routing.module';\nimport { ComponentsModule } from '../../components/components.module';\nimport { UploadPage } from './upload.page';\n\nimport { NewPageModule} from '../../images/new/new.module'\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UploadPageRoutingModule,\n    ComponentsModule,\n    NewPageModule\n  ],\n  declarations: [UploadPage]\n})\nexport class UploadPageModule {}\n ","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-button  (click)=\"close()\">\n        <span ion-text color=\"primary\" showWhen=\"ios\"></span>\n        <ion-icon name=\"close\" showWhen=\"android,windows\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Images</ion-title>\n    <ion-buttons slot=\"end\" class=\"button button-clear button-positive\" (click)=\"newModal()\" >  \n      <ion-icon name=\"add\" class=\"add-new\"></ion-icon>\n     </ion-buttons>\n\n  </ion-toolbar>\n</ion-header>\n\n\n\n\n \n\n\n<ion-content class=\"deals-listing-content\">\n  <ng-container>\n    <ion-radio-group value={{image.id}}>\n    <div class=\"listing-item\"  [ngClass]=\"ended\"  *ngFor=\"let item of items\">\n      <ion-row class=\"middle-row\" style=\"padding-top: 20px;\">\n        <ion-col size=\"2\">\n        <ion-buttons>\n          <ion-radio  value={{item.id}} (click)=\"selectImage(item)\"></ion-radio>\n        </ion-buttons>\n        </ion-col>\n        <ion-col class=\"info-col\"> \n\n          <app-image-shell [display]=\"'cover'\" class=\"category-cover\" animation=\"spinner\" [src]=\"imageUrl(item.image)\">\n            <app-aspect-ratio [ratio]=\"{w:50, h:50}\">\n            </app-aspect-ratio>\n          </app-image-shell>\n\n         </ion-col>\n     \n      </ion-row>\n    </div>\n  </ion-radio-group>\n  </ng-container>\n  <ion-infinite-scroll threshold=\"100px\" (ionInfinite)=\"loadData($event)\" [disabled]=\"numTimesLeft <= 0\">  \n    <ion-infinite-scroll-content  \n      loadingSpinner=\"bubbles\"  \n      loadingText=\"Loading more data...\">  \n    </ion-infinite-scroll-content>  \n  </ion-infinite-scroll>  \n</ion-content>\n\n<ion-footer class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-row>\n       <ion-col>\n        <ion-button expand=\"full\" fill=\"outline\" (click)=\"updateSelectedImage()\"> Select Image</ion-button>\n      </ion-col>\n    </ion-row>\n          \n  </ion-toolbar>\n</ion-footer>","import { Component, OnInit } from '@angular/core';\nimport { NavParams, ModalController } from '@ionic/angular';\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport { MenuController } from '@ionic/angular';\nimport { AuthService } from '../../services/auth.service'\nimport { ApisService } from '../../services/apis.service'\n\nimport { StorageService } from '../../services/storage.service';\nimport { ToastService } from '../../services/toast.service';\nimport { NewPage } from '../../images/new/new.page'\n\n\n\n@Component({\n  selector: 'app-upload',\n  templateUrl: './upload.page.html',\n  styleUrls: [\n    './upload.page.scss',\n    '../../style/listing.ios.scss',\n    '../../style/listing.page.scss',\n    '../../style/listing.shell.scss'\n  ],\n})\nexport class UploadPage implements OnInit {\n  displayUserData:any;\n  image:any;\n\n  constructor(\n    public router: Router,\n    public menu: MenuController,\n    private authService: AuthService,\n    private apisService:ApisService,\n     private storageService: StorageService,\n    private toastService: ToastService,\n    navParams: NavParams,\n    public modalController: ModalController\n  ) {\n    this.image=navParams.get('data');\n\n    console.log('popup open start');\n    console.log(this.image);\n    console.log('popup open end');\n\n\n  }\n  q:any\n  items = [];  \n  x= 0;\n  page=1;\n  last_page=0;\n  numTimesLeft = 5;  \n   \n  ngOnInit(){\n   this.authService.userData$.subscribe((res:any) => {\n     this.displayUserData=res\n     this.q='';\n     if (this.displayUserData.auth_token !== undefined) { this.loadItems(); }\n   })\n  \n\n  }\n\n  loadData(event) {  \n   setTimeout(() => {  \n     this.loadItems();  \n     this.numTimesLeft -= 1;  \n     event.target.complete();  \n   }, 500);  \n }  \n loadItems() {  \n    let form = new FormData();\n        form.append('page',this.page.toString() );\n        form.append('q',this.q );\n        form.append('auth_token',this.displayUserData.auth_token);\n         this.apisService.images(form).subscribe((result: any) => {\n            if(result.data.total){\n              this.page= this.page+1;\n              this.items.push(...result.data.data)\n              this.items=this.apisService.sortArray(this.items);\n            }else{\n\n            }\n         },\n          (error: any)=>{\n            if(error.status==0){\n              this.toastService.presentToast('Connection failed');\n            }\n            if(error.status==401){\n              this.toastService.presentToast('Authentcation failed');\n            }\n          }  \n   ) \n } \n \n imageUrl(img:any){\n   return this.apisService.getImageUrl(img);\n }\n async newModal() {\n  const modal = await this.modalController.create({\n     component: NewPage,\n     backdropDismiss:false\n  });\n  modal.onDidDismiss().then(data=>{\n     if(data.data)\n     if(this.apisService.isDefined(data.data.id)){\n        this.items.push(data.data)\n        this.items=this.apisService.sortArray(this.items);\n     }\n  })\n  return await modal.present();\n}\n\n  selectImage(item){\n    this.image= item;  \n    \n  }\n\n updateSelectedImage(){\n  this.modalController.dismiss(this.image);\n }\n   close() { this.modalController.dismiss([]);  }\n\n}\n"],"sourceRoot":"webpack:///"}