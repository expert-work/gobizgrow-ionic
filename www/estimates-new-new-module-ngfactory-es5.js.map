{"version":3,"sources":["webpack:///src/app/estimates/new/new-routing.module.ts","webpack:///src/app/estimates/new/new.module.ts","webpack:///src/app/estimates/new/new.page.html","webpack:///src/app/estimates/new/new.page.ts"],"names":["routes","path","component","NewPageRoutingModule","NewPageModule","NewPage","actionSheetController","apisService","toastService","authService","router","route","modalController","platform","images","croppedImagepath","isLoading","imagePickerOptions","maximumImagesCount","quality","loading","displayItemsBlock","displayPhotosBlock","displayCustomerNoteBlock","isDiscount","isTaxs","queryParams","subscribe","params","getCurrentNavigation","extras","state","data","undefined","userData$","res","displayUserData","discount_type","navigate","img","getImageUrl","taxes","total_tax","calculateEstimate","discount","discount_val","create","componentProps","customer","backdropDismiss","modal","onDidDismiss","then","isDefined","id","console","log","present","items","type","photo","notes","makeid","photos","before_photos","push","after_photos","other_photos","item","event","tempArray","map","i","target","value","price","total","quantity","name","due_date","start_time","end_time","estimate_date","sub_total","parseFloat","totalAmount","totalTaxes","tax","t","percent","tax_amount","$event","selectedVehicle","presentToast","length","form","FormData","append","auth_token","JSON","stringify","saveUpdateForm","saveAddForm","estimateUpdate","result","navigationExtras","error","status","estimateAdd"],"mappings":"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","file":"estimates-new-new-module-ngfactory-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NewPage } from './new.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewPageRoutingModule } from './new-routing.module';\nimport { ComponentsModule } from '../../components/components.module';\nimport { CustomersPageModule } from '../../common/customers/customers.module';\nimport { ItemsPageModule} from  '../../common/items/items.module'\nimport { NewPage } from './new.page';\nimport { TaxesPageModule } from  '../../common/taxes/taxes.module'\nimport { UploadPageModule } from  '../../common/upload/upload.module'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NewPageRoutingModule,\n    ComponentsModule,\n    CustomersPageModule,\n    ItemsPageModule,\n    TaxesPageModule,\n    UploadPageModule\n  ],\n  declarations: [NewPage]\n})\nexport class NewPageModule {}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"home\"></ion-back-button> \n\n    </ion-buttons>\n    <ion-title>{{data.estimate_number}}</ion-title>\n    <ion-button slot=\"end\" class=\"button button-clear button-positive\"   style=\"color: white;\"      (click)=\"saveForm('DRAFT')\">  \n      <ion-icon name=\"share\"></ion-icon>\n    </ion-button>\n\n  </ion-toolbar>\n</ion-header>\n\n\n<ion-card style=\"display: none;\">\n  <ion-card-content >\n        <ion-row style=\"padding: 15px;\n        color: #378175;\n        font-size: 16px; max-width: 600px;\">\n          <ion-col>\n                <span style=\"border-bottom: 4px solid;\"> DETAILS</span>\n          </ion-col>\n          \n          <ion-col>\n              <div> PHOTOS</div>\n          </ion-col>\n\n          <ion-col>\n              <div>YOUR NOTES</div>\n          </ion-col>\n        </ion-row>\n</ion-card-content>\n</ion-card>\n\n\n<ion-content style=\"--background:#f7fbfb;--padding-top: 30px;\" class=\"form-container\">\n   <ion-spinner  *ngIf=\"loading\" class=\"loading\" name=\"crescent\" color=\"primary\"></ion-spinner>\n  \n\n    <ion-card>\n      <ion-card-content >\n        <ion-row>\n          <ion-col class=\"form-column\" sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"12\"  >\n            <label class=\"form-label\"> Estimate Name</label>\n            <div class=\"input-item\">\n              <ion-input type=\"text\"  (ionInput)=\"updateNameChange($event)\" [value]=\"data.name\"  placeholder=\"Estimate Name\"    autocapitalize=\"off\" ></ion-input>\n            </div>\n          </ion-col>\n          \n          <ion-col class=\"form-column\"  sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"12\"  >\n            <label class=\"form-label\">Estimate Number</label>\n            <div class=\"input-item\">\n              <ion-input type=\"text\" readonly placeholder=\"Estimate Number\"  value=\"{{data.estimate_number}}\"  autocapitalize=\"off\" ></ion-input>\n            </div> \n          </ion-col> \n\n\n          <ion-col class=\"form-column\"  sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"12\"  >\n            <label class=\"form-label\">Customer</label>\n            <div class=\"input-item\">\n              <ion-input type=\"text\" value={{data.customer.name}}  (click)=\"openCustomerModal()\" readonly placeholder=\"Select Customer\"    autocapitalize=\"off\" ></ion-input>\n              <ion-icon name=\"person\" style=\"padding-top: 8px;\n              font-size: 24px;\n              color: #378275;\"></ion-icon>\n            </div>  \n          </ion-col>\n          \n          <ion-col class=\"form-column\"  sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"12\"  >\n            <label class=\"form-label\">Vehicle (optional)</label>\n            <div class=\"input-item\"  >\n               <ion-select placeholder=\"Select Vehicle\" [value]=\"data.customer.selectedVehicle\" (ionChange) =\"selectVehicle($event)\">\n                    <ion-select-option *ngFor=\"let vehicle of data.customer.vehicles\" [value]=\"vehicle.id\">{{vehicle.make}}-{{vehicle.model}}-{{vehicle.year}}</ion-select-option>\n               </ion-select>\n                \n            </div>  \n          </ion-col>\n\n          <ion-col class=\"form-column\"  sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"6\"  >\n            \n                    <label class=\"form-label\"> Start Date</label>\n                    <div class=\"input-item\" >\n                      <ion-icon name=\"calendar-outline\" style=\"    font-size: 40px; color: #378275;\"></ion-icon>\n                      <ion-datetime  style=\"width: 100%;\"  displayFormat=\"MM/DD/YYYY\"  (ionChange)=\"updateDateChange($event)\"  [value]=\"data.estimate_date\"  placeholder=\" Date From\" display-timezone=\"utc\"></ion-datetime>\n                    </div>\n          </ion-col>\n          \n          <ion-col class=\"form-column\"  sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"6\"  >\n            \n            <label class=\"form-label\"> Start Time</label>\n            <div class=\"input-item\" >\n              <ion-icon name=\"calendar-outline\" style=\"    font-size: 40px; color: #378275;\"></ion-icon>\n              <ion-datetime  style=\"width: 100%;\"  displayFormat=\"hh:mm A\"  (ionChange)=\"updateStartTimeChange($event)\"  [value]=\"data.start_time\"  placeholder=\" Date From\" display-timezone=\"utc\"></ion-datetime>\n            </div>\n         </ion-col>\n          \n          <ion-col class=\"form-column\"  sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"6\"  >\n                  <label class=\"form-label\"> End Date</label>\n                  <div class=\"input-item\">\n                        <ion-icon name=\"calendar-outline\" style=\"   font-size: 40px; color: #378275;\"></ion-icon>\n                        <ion-datetime  style=\"width: 100%;\"  displayFormat=\"MM/DD/YYYY\" (ionChange)=\"updateDueDateChange($event)\"  [value]=\"data.due_date\"  placeholder=\" Date From\" display-timezone=\"utc\"></ion-datetime>\n                  </div>\n                \n          </ion-col> \n\n          <ion-col class=\"form-column\"  sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"6\"  >\n            <label class=\"form-label\"> End Time</label>\n            <div class=\"input-item\">\n                  <ion-icon name=\"calendar-outline\" style=\"   font-size: 40px; color: #378275;\"></ion-icon>\n                  <ion-datetime  style=\"width: 100%;\"  displayFormat=\"hh:mm A\" (ionChange)=\"updateEndTimeChange($event)\"  [value]=\"data.end_time\"  placeholder=\" Date From\" display-timezone=\"utc\"></ion-datetime>\n            </div>\n          \n          </ion-col> \n\n\n          </ion-row>\n        </ion-card-content>\n  </ion-card>     \n  \n \n\n  <ion-card>\n    <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n    font-size: 18px;\">\n      <div  style=\"flex:1 ;\"> <ion-icon (click)=\"openItemsModal()\" name=\"add\"></ion-icon> </div>\n      <div style=\"flex:4;text-align: center; \"  (click)=\"displayItemsBlockToggle()\">\n        Add Item / Service ({{data.items.length}})\n      </div>\n      <div  style=\"flex:1; text-align: right;\">\n               <ion-icon name=\"chevron-up\"  *ngIf=\"!displayItemsBlock\"    (click)=\"displayItemsBlockToggle()\"></ion-icon>\n              <ion-icon name=\"chevron-down\" *ngIf=\"displayItemsBlock\"   (click)=\"displayItemsBlockToggle()\" ></ion-icon>\n      </div>\n    </ion-card-header>\n    <ion-card-content [ngClass]=\"(displayItemsBlock||data.items.length)?'show':'hide'\" >\n      \n      \n        <!-- ----------------------------- -->\n           <div *ngFor=\"let item of data.items\" >\n                  <ion-card>\n                    <ion-icon name=\"close-outline\" (click)=\"removeItem(item)\" class=\"img-remove-button-shell\"></ion-icon>\n\n\n                    <ion-card-header class=\"flex\" style=\"    border-bottom: 1px dashed;\n                    display: flex;\n                    flex-direction: row;\n                    color: #378275;\n                    font-size: 18px;\">\n                      <div style=\"flex:5;\"> {{item.name}} </div>\n                      <div  style=\"flex:1; text-align: right;\">  {{item.total | currency}}   </div>\n                    </ion-card-header>\n                    <ion-card-content>\n                      <ion-row>\n                        <ion-col class=\"form-column\" sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"6\"  >\n                            <label class=\"form-label\"> Quantity</label>\n                            <div class=\"input-item\">\n                              <ion-input type=\"number\" placeholder=\"Quantity\" value={{item.quantity}}   (ionInput)=\"updateQuantityChange(item,$event)\"  autocapitalize=\"off\" ></ion-input>\n                            </div>\n                        </ion-col>\n                        <ion-col class=\"form-column\" sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"6\"  >\n                            <label class=\"form-label\"> Price</label>\n                            <div class=\"input-item\">\n                                <ion-input type=\"number\" placeholder=\"Price\" value={{item.price}}  (ionInput)=\"updatePriceChange(item,$event)\"   autocapitalize=\"off\" ></ion-input>\n                            </div>\n                        </ion-col>\n                        <ion-col class=\"form-column\" sizeLg=\"12\" sizeMd=\"12\" sizeXs=\"12\">\n                            <div class=\"input-item\">\n                                <ion-textarea (ionChange)=\"updateDescriptionChange(item,$event)\"  value={{item.notes}}   placeholder=\"Enter any notes here...\"></ion-textarea> \n                            </div> \n                        </ion-col>\n                      </ion-row>\n                    </ion-card-content>\n                </ion-card> \n          </div>\n     \n       \n        \n        \n      \n         <ion-card>\n          <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n          font-size: 18px;\">\n            <div style=\"flex:1;color: #378275; font-weight: 500;\">  Total  </div>\n            <div  style=\" flex:1;color: #378275; font-weight: 500;text-align: right;\"> {{data.sub_total | currency}}</div>\n          </ion-card-header>\n        </ion-card>\n       <!-- ----------------------------- -->\n\n    </ion-card-content>\n    \n</ion-card>\n\n\n\n\n\n\n\n\n<ion-card>\n  <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n  font-size: 18px;\">\n    <div> Discount ({{data.discount_val  | currency}})</div>\n    <div  style=\"flex:1; text-align: right;\">\n     <ion-toggle  style=\"padding: 5px;\" [checked]=\"((data.discount_type=='Fixed') || (data.discount_type=='Percentage'))\" color=\"danger\" (ionChange)=\"isDiscountToggle()\"></ion-toggle>\n    </div>\n  </ion-card-header>\n  <ion-card-content *ngIf=\"isDiscount\" >\n    <ion-row>\n      <ion-col  sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"12\"> </ion-col>\n      <ion-col  sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"12\"> \n        <ion-row>\n          <ion-col class=\"form-column\" sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"6\"> \n              <div class=\"input-item\">\n                  <ion-input type=\"number\"  placeholder=\"discount\" [value]=\"data.discount\"     (ionInput)=\"updateDiscountChange($event)\"  autocapitalize=\"off\" ></ion-input>\n              </div>\n          </ion-col>\n          <ion-col class=\"form-column\" sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"6\"> \n            <div class=\"input-item\">\n                <ion-select placeholder=\"Select One\" [value]=\"data.discount_type\" (ionChange) =\"changeDiscountType($event)\">\n                    <ion-select-option value=\"Fixed\">Fixed</ion-select-option>\n                    <ion-select-option value=\"Percentage\">Percentage</ion-select-option>\n                </ion-select>\n            </div>\n          </ion-col>\n        </ion-row>\n      </ion-col>\n    </ion-row>\n  </ion-card-content>\n</ion-card>\n\n\n<ion-card>\n  <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n  font-size: 18px;\">\n    <div>\n       Add/Remove Tax ({{data.total_tax  | currency}})\n    </div>\n    \n    <div  style=\"flex:1; text-align: right;\">\n     <ion-toggle color=\"danger\" style=\"padding: 5px;\" [checked]=\"data.taxes.length\"      (ionChange)=\"isTaxsToggle()\"></ion-toggle>\n    </div>\n  </ion-card-header>\n  <ion-card-content *ngIf=\"isTaxs||data.taxes.length\" >\n    <ion-row>\n      <ion-col  sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"12\">\n        <ion-button class=\"button button-clear button-positive\" (click)=\"openTaxesModal()\" >  \n          <ion-icon  name=\"add\"></ion-icon> Tax\n        </ion-button>\n      </ion-col>\n      <ion-col  sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"12\"> \n        <ion-row *ngFor=\"let tax of data.taxes\" >\n          <ion-col sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"6\"> \n            <div class=\"form-tax-heading\">{{tax.name}} ({{tax.percent}}%)</div>\n          </ion-col>\n          <ion-col sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"6\"> \n            <div class=\"form-tax-value\">{{tax.tax_amount  | currency}}</div>\n          </ion-col>\n        </ion-row>\n       </ion-col>\n    </ion-row>\n  </ion-card-content>\n</ion-card>\n\n\n\n<ion-card>\n  <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n  font-size: 18px;\">\n    <div style=\"flex:1;color: #3D9BFC; font-weight: 600;\">  Total  </div>\n    <div  style=\" flex:1;color: #3D9BFC; font-weight: 600;text-align: right;\"> {{data.total | currency}} </div>\n  </ion-card-header>\n</ion-card>\n\n\n\n\n\n\n  <ion-row>\n   \n           <ion-col  sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"12\" style=\"padding:0\" >\n              <ion-card>\n                <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n                font-size: 18px;\">\n                   \n                  <div style=\"flex:5;\"  (click)=\"displayPhotosBlockToggle()\">\n                    Photos\n                  </div>\n                  <div  style=\"flex:1; text-align: right;\">\n                           <ion-icon name=\"chevron-up\"  *ngIf=\"!displayPhotosBlock\"    (click)=\"displayPhotosBlockToggle()\"></ion-icon>\n                          <ion-icon name=\"chevron-down\" *ngIf=\"displayPhotosBlock\"   (click)=\"displayPhotosBlockToggle()\" ></ion-icon>\n\n                  </div>\n                </ion-card-header>\n                <ion-card-content  [ngClass]=\"displayPhotosBlock?'show':'hide'\" >\n                  <!--  -->\n                  \n\n                  <ion-card>\n                    <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n                    font-size: 14px;\">\n                      <div  style=\"flex:2 ;\">Before Photos </div>\n                       <div  style=\"flex:.5; text-align: right;\"> \n                      \n                        <ion-icon  (click)=\"openUploadModal('Before')\" name=\"add\"></ion-icon> \n                      </div>\n                    </ion-card-header>\n                    <ion-card-content>\n                      <ion-row>\n\n           \n                          <ion-col  sizeLg=\"4\" sizeMd=\"4\" sizeXs=\"4\"  *ngFor=\"let image of data.before_photos\"   >\n                            <div>\n                                <app-image-shell [display]=\"'cover'\" class=\"category-cover\" animation=\"spinner\" [src]=\"imageUrl(image.image)\">\n                                    <app-aspect-ratio [ratio]=\"{w:75, h:49}\">\n                                    </app-aspect-ratio>\n                                  </app-image-shell>\n                            </div>\n                              <ion-textarea [value]=\"image.notes\" (ionInput)=\"updateImageNoteChange('Before',image,$event)\"  placeholder=\"Enter any notes here...\"></ion-textarea>\n                              <ion-icon name=\"close-outline\" class=\"img-remove-button-shell\" (click)=\"removeImage('Before',image)\"></ion-icon>\n                          </ion-col>                          \n                      </ion-row>\n                    </ion-card-content>\n                </ion-card>\n\n                <ion-card>\n                  <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n                  font-size: 14px;\">\n                    <div  style=\"flex:2 ;\">After Photos </div>\n                     <div  style=\"flex:.5; text-align: right;\">  <ion-icon (click)=\"openUploadModal('After')\"  name=\"add\"></ion-icon> </div>\n                  </ion-card-header>\n                  <ion-card-content>\n                    <ion-row>\n                                                 \n                      <ion-col  sizeLg=\"4\" sizeMd=\"4\" sizeXs=\"4\"  *ngFor=\"let image of data.after_photos\"   >\n                        <div>\n                            <app-image-shell [display]=\"'cover'\" class=\"category-cover\" animation=\"spinner\" [src]=\"imageUrl(image.image)\">\n                                <app-aspect-ratio [ratio]=\"{w:75, h:49}\">\n                                </app-aspect-ratio>\n                              </app-image-shell>\n                        </div>\n                          <ion-textarea [value]=\"image.notes\" (ionInput)=\"updateImageNoteChange('After',image,$event)\" placeholder=\"Enter any notes here...\"></ion-textarea>\n                          <ion-icon name=\"close-outline\" class=\"img-remove-button-shell\"  (click)=\"removeImage('After',image)\"></ion-icon>\n                      </ion-col>       \n\n                     \n\n                \n                  </ion-row>\n                  </ion-card-content>\n              </ion-card>\n\n\n              <ion-card>\n                <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n                font-size: 14px;\">\n                  <div  style=\"flex:2 ;\">Other Photos </div>\n                   <div  style=\"flex:.5; text-align: right;\">  <ion-icon (click)=\"openUploadModal('Other')\" name=\"add\"></ion-icon> </div>\n                </ion-card-header>\n                <ion-card-content>\n                  <ion-row>\n                    <ion-col  sizeLg=\"4\" sizeMd=\"4\" sizeXs=\"4\"  *ngFor=\"let image of data.other_photos\"   >\n                      <div>\n                          <app-image-shell [display]=\"'cover'\" class=\"category-cover\" animation=\"spinner\" [src]=\"imageUrl(image.image)\">\n                              <app-aspect-ratio [ratio]=\"{w:75, h:49}\">\n                              </app-aspect-ratio>\n                            </app-image-shell>\n                      </div>\n                        <ion-textarea  placeholder=\"Enter any notes here...\" (ionInput)=\"updateImageNoteChange('Other',image,$event)\" [value]=\"image.notes\" ></ion-textarea>\n                        <ion-icon name=\"close-outline\" class=\"img-remove-button-shell\"  (click)=\"removeImage('Other',image)\"></ion-icon>\n                    </ion-col>                      \n                   \n                </ion-row>\n                </ion-card-content>\n            </ion-card>\n\n\n\n\n\n                  <!--  -->\n                </ion-card-content>\n            </ion-card>\n          </ion-col>\n\n\n\n\n\n\n\n\n\n          <ion-col  sizeLg=\"6\" sizeMd=\"6\" sizeXs=\"12\"  style=\"padding:0\" >\n            <ion-card>\n              <ion-card-header class=\"flex\" style=\"display: flex;flex-direction: row;color: #378275;\n              font-size: 18px;\">\n                 \n                <div style=\"flex:5;\"  (click)=\"displayCustomerNoteBlockToggle()\">\n                  Notes for Customer\n                </div>\n                <div  style=\"flex:1; text-align: right;\">\n                         <ion-icon name=\"chevron-up\"  *ngIf=\"!displayCustomerNoteBlock\"    (click)=\"displayCustomerNoteBlockToggle()\"></ion-icon>\n                        <ion-icon name=\"chevron-down\" *ngIf=\"displayCustomerNoteBlock\"   (click)=\"displayCustomerNoteBlockToggle()\" ></ion-icon>\n\n                </div>\n              </ion-card-header>\n              <ion-card-content  [ngClass]=\"displayCustomerNoteBlock?'show':'hide'\">\n                <ion-textarea  placeholder=\"Enter any notes here...\" [value]=\"data.notes\" (ionInput)=\"updateNotesChange($event)\"></ion-textarea>\n              </ion-card-content>\n          </ion-card> \n        </ion-col>          \n\n   </ion-row>\n   \n   \n   \n                <ion-row style=\"padding:5px\">\n                  <ion-col   sizeLg=\"3\" sizeMd=\"3\" sizeXs=\"3\"  >\n                    <ion-button (click)=\"saveForm('DRAFT')\" color=\"primary\" expand=\"block\">Save</ion-button>\n                  </ion-col>\n                  <ion-col  sizeLg=\"7\" sizeMd=\"7\" sizeXs=\"7\"  >\n                    <ion-button  (click)=\"saveForm('SENT')\"  color=\"secondary\" expand=\"block\">Save & Send</ion-button>\n                  </ion-col>\n                  <ion-col   sizeLg=\"2\" sizeMd=\"2\" sizeXs=\"2\"  >\n                    <ion-button  expand=\"block\" style=\" --background: #d8e7e2;;\">\n                          <ion-icon style=\"color:#378275\" name=\"ellipsis-vertical\"></ion-icon>  \n                    </ion-button>\n                  </ion-col>\n                </ion-row>\n      \n</ion-content>\n","import { Component, ViewChild, ElementRef, OnInit } from '@angular/core';\n  \nimport { Platform,ActionSheetController ,NavController,ModalController} from '@ionic/angular';\nimport { Router,ActivatedRoute,NavigationExtras } from '@angular/router';\nimport { ApisService,ApiImage } from '../../services/apis.service';\nimport { ToastService } from '../../services/toast.service';\nimport { AuthService } from '../../services/auth.service';\nimport { CustomersPage } from '../../common/customers/customers.page';\nimport { ItemsPage } from '../../common/items/items.page';\nimport {  TaxesPage  } from '../../common/taxes/taxes.page';\nimport { UploadPage } from '../../common/upload/upload.page'\n\n \n@Component({\n  selector: 'app-new',\n  templateUrl: './new.page.html',\n  styleUrls: ['./new.page.scss'],\n})\nexport class NewPage implements OnInit {\n\n  images: ApiImage[] = [];\n  @ViewChild('fileInput', { static: false }) fileInput: ElementRef;\n \n\n  loading:boolean;\n  displayUserData: any;\n  data: any;\n  displayItemsBlock:boolean\n  displayPhotosBlock:boolean\n  displayCustomerNoteBlock:boolean\n  isTaxs:any\n  isDiscount:boolean\n  selectedVehicle:any\n  guestPicture:any\n\n\n  croppedImagepath = \"\";\n  isLoading = false;\n\n  imagePickerOptions = {\n    maximumImagesCount: 1,\n    quality: 50\n  };\n\n\n  constructor(\n    public actionSheetController: ActionSheetController, \n    private apisService: ApisService,\n    private toastService:ToastService,\n    private authService: AuthService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private modalController: ModalController,\n    private platform: Platform,\n\n  ) { \n        this.loading=true\n        this.displayItemsBlock=false;\n        this.displayPhotosBlock=false;\n        this.displayCustomerNoteBlock=true;\n        this.isDiscount=false;\n        this.isTaxs=false;\n\n        this.route.queryParams.subscribe(params => {\n          if (this.router.getCurrentNavigation().extras.state) {\n            this.data = this.router.getCurrentNavigation().extras.state.data;\n            if(  this.data  !== undefined){ this.loading=false; }\n          }\n        });\n  }\n \n  ngOnInit(){\n    this.authService.userData$.subscribe((res:any) => {\n      this.displayUserData=res\n     })\n\n     if(  this.data  !== undefined){ \n        this.loading=false; \n        \n        this.isDiscount= ((this.data.discount_type=='Fixed') || (this.data.discount_type=='Percentage'));\n\n      }else{ this.router.navigate(['app/estimates']) }\n   }\n\n    // //// Image Upload Start\n\n    \n\n    imageUrl(img:any){\n      return this.apisService.getImageUrl(img);\n    }\n   \n \n\n    //Image Upload End\n\n    displayItemsBlockToggle(){\n      this.displayItemsBlock=!this.displayItemsBlock;\n    }\n    displayPhotosBlockToggle(){\n    this.displayPhotosBlock=!this.displayPhotosBlock;\n    }\n    displayCustomerNoteBlockToggle(){\n      this.displayCustomerNoteBlock=!this.displayCustomerNoteBlock;\n    }\n\n    isTaxsToggle(){\n      this.isTaxs=!this.isTaxs;\n      if(!this.isTaxs){\n        this.data.taxes=[];\n        this.data.total_tax=0;\n      } \n      this.calculateEstimate();\n    }\n\n    isDiscountToggle(){\n      this.isDiscount=!this.isDiscount;\n      if(!this.isDiscount){\n        this.data.discount_type=\"\";\n        this.data.discount=0;\n        this.data.discount_val=0;\n      }else{\n        this.data.discount_type=\"Fixed\";\n      }\n      this.calculateEstimate();\n\n\n    }\n\n    async openCustomerModal() {\n      const modal = await this.modalController.create({\n        component: CustomersPage,\n        componentProps: { data: this.data.customer },\n        backdropDismiss:false\n      });\n      modal.onDidDismiss().then(data=>{\n         if(this.apisService.isDefined(data.data.id)){\n           console.log(data.data);\n           this.data.customer=data.data;\n          }\n      })\n      return await modal.present();\n    }\n \n\n\n \n    async openItemsModal() {\n      const modal = await this.modalController.create({\n        component: ItemsPage,\n        componentProps: { data: this.data.items },\n        backdropDismiss:false\n      });\n      modal.onDidDismiss().then(data=>{\n         if(this.apisService.isDefined(data.data[0])){\n           console.log(data.data);\n           this.data.items=data.data;\n           this.displayItemsBlock=true;\n           this. calculateEstimate();\n          }\n      })\n      return await modal.present();\n    }\n    async openTaxesModal() {\n      const modal = await this.modalController.create({\n        component: TaxesPage,\n        componentProps: { data: this.data.taxes },\n        backdropDismiss:false\n      });\n      modal.onDidDismiss().then(data=>{\n         if(this.apisService.isDefined(data.data[0])){\n           this.data.taxes=data.data;\n           this. calculateEstimate();\n           this.isTaxs=true;  \n          }\n      })\n      return await modal.present();\n    }\n    async openUploadModal(type:any) {\n      const modal = await this.modalController.create({\n        component: UploadPage,\n        componentProps: { data: this.data.taxes },\n        backdropDismiss:false\n      });\n      modal.onDidDismiss().then(data=>{\n         if(this.apisService.isDefined(data.data.id)){\n          console.log(data.data)\n          \n          let photo= data.data;\n          photo.notes='';\n          photo.id=this.apisService.makeid(20);\n          \n          if(type=='Before'){\n           let photos= this.data.before_photos;\n           photos.push(photo);\n           this.data.before_photos=photos;\n          }\n\n          if(type=='After'){\n            let photos= this.data.after_photos;\n            photos.push(photo);\n            this.data.after_photos=photos;\n           }\n\n           if(type=='Other'){\n            let photos= this.data.other_photos;\n            photos.push(photo);\n            this.data.other_photos=photos;\n           }           \n          }\n      })\n      return await modal.present();\n    }\n\n    updateImageNoteChange(type:any,item:any,event:any){\n              if(type=='Before'){\n                    let tempArray=[];\n                    this.data.before_photos.map(function (i) {\n                      if(item.id ==i.id){  i.notes=event.target.value; } \n                      tempArray.push(i); \n                    });\n                    this.data.before_photos=tempArray;\n              }\n\n              if(type=='After'){\n                    let tempArray=[];\n                    this.data.after_photos.map(function (i) {\n                      if(item.id ==i.id){  i.notes=event.target.value; } \n                      tempArray.push(i); \n                    });\n                    this.data.after_photos=tempArray;\n              }\n\n              if(type=='Other'){\n                let tempArray=[];\n                this.data.other_photos.map(function (i) {\n                  if(item.id ==i.id){  i.notes=event.target.value; } \n                  tempArray.push(i); \n                });\n                this.data.other_photos=tempArray;\n            }\n    }\n\n\n    removeImage(type:any,item:any,){\n              if(type=='Before'){\n                let tempArray=[];\n                this.data.before_photos.map(function (i) {\n                  if(item.id !=i.id){  tempArray.push(i);  } \n                });\n                this.data.before_photos=tempArray;\n              }\n\n              if(type=='After'){\n                    let tempArray=[];\n                    this.data.after_photos.map(function (i) {\n                      if(item.id !=i.id){ tempArray.push(i);   } \n                    });\n                    this.data.after_photos=tempArray;\n              }\n\n              if(type=='Other'){\n                    let tempArray=[];\n                    this.data.other_photos.map(function (i) {\n                      if(item.id !=i.id){   tempArray.push(i);   } \n                    });\n                    this.data.other_photos=tempArray;\n                }\n      \n    }\n\n    updateNotesChange(event:any){\n      this.data.notes=event.target.value;\n\n      console.log(this.data);\n      \n    }\n    updatePriceChange(item:any,event:any){\n      let tempArray=[];\n          this.data.items.map(function (i) {\n              if(item.id ==i.id){ i.price=event.target.value; i.total= i.quantity*event.target.value; } \n              tempArray.push(i); \n          });\n          this.data.items=tempArray;\n          this.calculateEstimate();\n    }\n\n    \n    updateNameChange(event:any){\n      this.data.name=event.target.value;\n    }\n\n    updateDueDateChange(event:any){\n      this.data.due_date=event.target.value;\n    }\n\n    updateStartTimeChange(event:any){\n      this.data.start_time=event.target.value;\n    }\n\n    updateEndTimeChange(event:any){\n      this.data.end_time=event.target.value;\n    }\n\n    updateDateChange(event:any){\n      this.data.estimate_date=event.target.value;\n    }\n    updateQuantityChange(item:any,event:any){\n      let tempArray=[];\n      this.data.items.map(function (i) {\n          if(item.id ==i.id){ i.quantity=event.target.value; i.total= i.price*event.target.value; } \n          tempArray.push(i); \n      });\n      this.data.items=tempArray;\n      this.calculateEstimate();\n    }\n    updateDescriptionChange(item:any,event:any){\n      let tempArray=[];\n      this.data.items.map(function (i) {\n          if(item.id ==i.id){ i.notes=event.target.value; } \n          tempArray.push(i); \n      });\n      this.data.items=tempArray;\n    }\n    \n    updateDiscountChange(event:any){\n          this.data.discount=event.target.value;\n          this.calculateEstimate();\n    }\n    changeDiscountType(event:any){\n          this.data.discount_type=event.target.value;\n          this.calculateEstimate();\n    }\n    \n    calculateEstimate(){\n      let sub_total:number;\n      sub_total=0;\n          this.data.items.map(function (i) {\n            sub_total=sub_total+parseFloat(i.total);\n          });\n      this.data.sub_total=sub_total;\n\n      if(this.data.discount_type=='Fixed'){\n        this.data.discount_val=this.data.discount;\n      }\n      if(this.data.discount_type=='Percentage'){\n        this.data.discount_val=(this.data.sub_total* this.data.discount)/100;\n      }\n\n\n      \n      let totalAmount=this.data.sub_total- this.data.discount_val;\n      let taxes=[];\n      let totalTaxes=0\n      this.data.taxes.map(function (tax) {\n           let t:any\n           t= (tax.percent*totalAmount)/100;\n         totalTaxes=totalTaxes+parseFloat(t)\n         tax.tax_amount=t;\n         taxes.push(tax)\n      });\n      this.data.total_tax=totalTaxes;\n      \n      this.data.total=totalAmount+totalTaxes;\n\n\n\n\n\n\n\n\n     // sub_total\n    }\n    //Fixed\n    //Percentage\n    //discount_type\n\n\n    removeItem(item:any){\n      let tempArray=[];\n      this.data.items.map(function (i) {\n          if(item.id !=i.id){ tempArray.push(i);  } \n      });\n      this.data.items=tempArray;\n      this.calculateEstimate();\n    }\n    selectVehicle($event) {\n       this.data.customer.selectedVehicle=$event.target.value\n     // console.log(this.data.customer.selectedVehicle);\n    }\n  saveForm(type:any){\n  \n\n\n\n                console.log('before')\n                //Estimate name validation\n                if(this.data.name==''){\n                  this.toastService.presentToast('Please Enter a Estimate Name');\n                  return false;\n                }\n\n                //Estimate Estimate_date validation\n                if(this.data.estimate_date==''){\n                  this.toastService.presentToast('Please select a date ');\n                  return false;\n              }\n\n                //Estimate due_date validation\n                if(this.data.due_date==''){\n                  this.toastService.presentToast('Please select a due date ');\n                  return false;\n              }\n\n              \n              //Estimate name validation\n              if(!this.apisService.isDefined(this.data.customer.id) || this.data.customer.id==''){\n                this.toastService.presentToast('Please select a customer ');\n                return false;\n              }\n\n\n              //Item name validation\n              if(!this.data.items.length){\n                this.toastService.presentToast('Please select an Item/Services ');\n                  return false;\n              }    \n\n\n              //Subtotal name validation\n              if(this.data.sub_total<1){\n                this.toastService.presentToast('Subtotal must be greater then zero ');\n                  return false;\n              }\n              \n\n\n              //amount name validation\n              if(this.data.total<1){\n                this.toastService.presentToast('Total amount must be grater then zero');\n                  return false;\n              }\n                let form = new FormData();\n                form.append('auth_token',this.displayUserData.auth_token);\n                form.append('data', JSON.stringify(this.data));\n\n                if(this.apisService.isDefined(this.data.auth_token)){\n                  console.log('update call');\n                  this.saveUpdateForm(form);\n                }else{\n                 console.log('Add new call');\n                 this.saveAddForm(form)\n                }\n\n   }\n\n\n  saveUpdateForm(form:any){\n              this.apisService.estimateUpdate(form).subscribe((result: any) => {\n                if(result.data){\n                    let navigationExtras: NavigationExtras = {\n                      state: {\n                          data:  'refresh'\n                        }\n                    };\n                    this.router.navigate(['app/estimates'], navigationExtras);\n                } \n              },\n              (error: any)=>{\n                      if(error.status==0){\n                        this.toastService.presentToast('Connection failed');\n                      }\n                      if(error.status==401){\n                        this.toastService.presentToast('Authentcation failed');\n                      }\n                 }  \n              ) \n   }\n\n\n   saveAddForm(form:any){\n                  this.apisService.estimateAdd(form).subscribe((result: any) => {\n                    if(result.data){\n                        let navigationExtras: NavigationExtras = {\n                          state: {\n                              data:  'refresh'\n                            }\n                        };\n                        this.router.navigate(['app/estimates'], navigationExtras);\n                    } \n              },\n                (error: any)=>{\n                  if(error.status==0){\n                    this.toastService.presentToast('Connection failed');\n                  }\n                  if(error.status==401){\n                    console.log(error);\n                    this.toastService.presentToast(error.error.data);\n                  }\n                }  \n            ) \n      }\n\n}\n"]}